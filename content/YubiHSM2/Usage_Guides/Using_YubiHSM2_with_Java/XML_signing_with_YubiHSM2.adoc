== Signing XML files with YubiHSM 2

Generate a simple XML file

....
$ echo '<x/>' > unsigned.xml
....

Sign the XML file using xmlsectool

....
$ xmlsectool --sign --pkcs11Config yhsm_pkcs11_java.cfg --inFile unsigned.xml --keyAlias MyKey1 --keyPassword 0001password --outFile signed.xml
INFO  XMLSecTool - Reading XML document from file 'unsigned.xml'
INFO  XMLSecTool - XML document parsed and is well-formed.
INFO  XMLSecTool - XML document successfully signed
INFO  XMLSecTool - XML document written to file /Users/jvdijk/YubiHSM/joostd/crypto-hardware/yubihsm2/signed.xml
....

verify the signed XML file

TODO export cert from hsm

....
$ xmlsectool  --verifySignature --inFile signed.xml --certificate signing-crt.pem
INFO  XMLSecTool - Reading XML document from file 'signed.xml'
INFO  XMLSecTool - XML document parsed and is well-formed.
INFO  XMLSecTool - XML document signature verified.
....

